@tailwind base;
@tailwind components;
@tailwind utilities;

/* Material Symbols configuration */
.material-symbols-outlined {
    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    vertical-align: middle;
}

@layer base {
    body {
        @apply font-display min-h-screen;
    }
}

@layer components {
    /* Cosmic gradient background */
    .cosmic-gradient {
        background: linear-gradient(135deg, #FF69B4 0%, #8A2BE2 50%, #00BFFF 100%);
    }

    /* Card shadow */
    .card-shadow {
        box-shadow: 0px 8px 18px rgba(0, 0, 0, 0.15);
    }

    /* Rotated difficulty badge */
    .difficulty-badge {
        transform: rotate(5deg);
    }

    /* Glassmorphism card */
    .glass-card {
        @apply bg-white/10 backdrop-blur-md rounded-xl border border-white/20;
    }

    /* Gallery Grid */
    .gallery {
        @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8;
    }

    /* Gallery card */
    .gallery-card {
        @apply relative bg-white rounded-xl p-4 card-shadow hover:scale-[1.03] transition-all duration-300 cursor-pointer;
    }

    .gallery-card .card-image {
        @apply aspect-square w-full rounded-lg overflow-hidden bg-white mb-4;
    }

    .gallery-card .card-image img {
        @apply w-full h-full object-contain;
    }

    .gallery-card .card-content {
        /* Content section - no special styling needed, using utility classes */
    }

    .gallery-card .card-id {
        @apply absolute top-6 left-6 z-10 bg-black/60 backdrop-blur-sm text-white font-bold px-3 py-1 rounded-lg text-xs;
    }

    .gallery-card .card-title {
        @apply text-background-dark text-xl font-black mb-1;
    }

    .gallery-card .card-description {
        @apply text-gray-600 text-sm mb-4 leading-relaxed;
    }

    .gallery-card .card-chinese {
        @apply text-gray-500 text-sm;
    }

    /* Difficulty badges */
    .gallery-card .difficulty-badge {
        @apply absolute -top-3 -right-3 z-10 text-white font-black px-4 py-1 rounded-full shadow-lg text-sm uppercase;
        transform: rotate(5deg);
    }

    .difficulty-badge.beginner {
        @apply bg-beginner;
    }

    .difficulty-badge.intermediate {
        @apply bg-intermediate;
    }

    .difficulty-badge.advanced {
        @apply bg-advanced;
    }

    /* Sensor indicator on cards */
    .gallery-card .sensor-indicator {
        @apply flex flex-wrap gap-2 mt-3;
    }

    /* Sensor tag with icon */
    .sensor-tag {
        @apply flex items-center gap-1 bg-primary/20 text-background-dark text-xs font-bold px-3 py-1 rounded-full;
    }

    /* Filter bar */
    .filter-bar {
        @apply flex flex-wrap items-center gap-3 glass-card p-4;
    }

    .filter-label {
        @apply text-white font-bold text-sm uppercase tracking-wide mr-2;
    }

    .filter-btn {
        @apply flex items-center gap-1 font-bold py-2 px-4 rounded-full shadow-md text-sm transition-all border-none cursor-pointer;
    }

    .filter-btn.active {
        @apply bg-primary text-background-dark shadow-lg hover:scale-105;
    }

    .filter-btn:not(.active) {
        @apply bg-white border-2 hover:scale-105;
    }

    .filter-btn[data-value="beginner"]:not(.active) {
        @apply text-beginner border-beginner/20 hover:bg-beginner hover:text-white;
    }

    .filter-btn[data-value="intermediate"]:not(.active) {
        @apply text-intermediate border-intermediate/20 hover:bg-intermediate hover:text-white;
    }

    .filter-btn[data-value="advanced"]:not(.active) {
        @apply text-advanced border-advanced/20 hover:bg-advanced hover:text-white;
    }

    .filter-btn[data-value="all"]:not(.active) {
        @apply text-gray-600 border-gray-200 hover:bg-gray-100;
    }

    .filter-btn.sensor-btn:not(.active):not([data-value="all"]) {
        @apply text-purple-600 border-purple-200 hover:bg-purple-500 hover:text-white;
    }

    .filter-btn .material-symbols-outlined {
        @apply text-base;
    }

    /* Modal */
    .modal {
        @apply hidden fixed inset-0 bg-black/80 z-50 overflow-y-auto p-4;
    }

    .modal.active {
        @apply flex items-center justify-center;
    }

    .modal-content {
        @apply bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto relative;
    }

    .close-btn {
        @apply absolute top-4 right-5 bg-transparent border-none text-3xl cursor-pointer text-gray-500 hover:text-gray-800 z-10;
    }

    .modal-body {
        @apply grid grid-cols-1 md:grid-cols-2 gap-8 p-8;
    }

    .modal-image img {
        @apply w-full rounded-xl shadow-lg;
    }

    .modal-info h2 {
        @apply text-2xl font-black text-background-dark mb-1;
    }

    .chinese-name {
        @apply text-lg text-gray-500 mb-6;
    }

    /* Action Buttons */
    .action-buttons {
        @apply mb-6;
    }

    .btn {
        @apply inline-flex items-center gap-3 py-4 px-6 rounded-xl text-lg font-bold transition-all no-underline;
    }

    .btn-primary {
        background: linear-gradient(135deg, #FF69B4 0%, #8A2BE2 50%, #00BFFF 100%);
        @apply text-white hover:scale-105 hover:shadow-lg;
    }

    .btn-icon {
        @apply text-xl;
    }

    /* Coding Section */
    .coding-section,
    .sensors-section,
    .wiring-section {
        @apply mt-6;
    }

    .coding-section h3,
    .sensors-section h3,
    .wiring-section h3 {
        @apply text-lg font-bold text-background-dark mb-4 pb-3 border-b-2 border-gray-200;
    }

    .coding-options {
        @apply flex flex-col gap-3;
    }

    .coding-option {
        @apply flex items-center gap-3 p-3 bg-gray-100 rounded-xl no-underline text-gray-800 transition-all hover:bg-gray-200 hover:translate-x-1;
    }

    .coding-option .option-icon {
        @apply w-10 h-10 rounded-xl flex items-center justify-center text-xl;
    }

    .coding-option.makecode .option-icon {
        @apply bg-purple-600 text-white;
    }

    .coding-option.python .option-icon {
        @apply bg-blue-500 text-white;
    }

    .coding-option.sensor .option-icon {
        @apply bg-green-500 text-white;
    }

    .coding-option .option-text {
        @apply flex-1;
    }

    .coding-option .option-title {
        @apply font-bold text-sm;
    }

    .coding-option .option-subtitle {
        @apply text-xs text-gray-500;
    }

    /* Sensor Tags in modal */
    .sensor-tags {
        @apply flex flex-wrap gap-3;
    }

    .sensor-tags .sensor-tag {
        @apply bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm;
    }

    /* Wiring section */
    .wiring-image-container {
        @apply bg-gray-100 rounded-xl p-4 text-center;
    }

    .wiring-image-container img {
        @apply max-w-full rounded-lg shadow-md;
    }

    /* Empty state */
    .empty-state {
        @apply text-center py-12 text-white col-span-full;
    }

    .empty-state .emoji {
        @apply text-6xl mb-4;
    }

    /* Pagination */
    .pagination {
        @apply flex items-center justify-center gap-2;
    }

    .pagination a {
        @apply w-12 h-12 flex items-center justify-center rounded-xl bg-white/20 text-white hover:bg-primary hover:text-background-dark transition-all font-bold no-underline;
    }

    .pagination a.active {
        @apply bg-primary text-background-dark;
    }
}

/* Loading spinner */
@keyframes spin {
    to { transform: rotate(360deg); }
}

.loading {
    @apply text-center py-12 text-white;
}

.loading-spinner {
    @apply w-12 h-12 border-4 border-white/30 border-t-white rounded-full mx-auto mb-4;
    animation: spin 1s linear infinite;
}
